{"version":3,"sources":["webpack:////Users/liuyangongshouhu/Desktop/liuyangong-uni-app-garbage/liuyangong-uni-app-garbagege/pages/ar/ar.vue?b385","webpack:////Users/liuyangongshouhu/Desktop/liuyangong-uni-app-garbage/liuyangong-uni-app-garbagege/pages/ar/ar.vue?5904","webpack:////Users/liuyangongshouhu/Desktop/liuyangong-uni-app-garbage/liuyangong-uni-app-garbagege/pages/ar/ar.vue?677b","webpack:////Users/liuyangongshouhu/Desktop/liuyangong-uni-app-garbage/liuyangong-uni-app-garbagege/pages/ar/ar.vue?f4dc","webpack:////Users/liuyangongshouhu/Desktop/liuyangong-uni-app-garbage/liuyangong-uni-app-garbagege/pages/ar/ar.vue","webpack:////Users/liuyangongshouhu/Desktop/liuyangong-uni-app-garbage/liuyangong-uni-app-garbagege/pages/ar/ar.vue?f09c","webpack:////Users/liuyangongshouhu/Desktop/liuyangong-uni-app-garbage/liuyangong-uni-app-garbagege/pages/ar/ar.vue?d200"],"names":["data","photoWidth","photoHeight","showCamera","showCanvas","components","onShow","methods","takeAndPredict","ctx","uni","createCameraContext","takePhoto","quality","success","res","drawImage","tempImagePath","showLoading","title","uploadFile","url","queryByImgUrl","filePath","name","header","formData","hideLoading","console","log","setStorageSync","navigateTo","imagePath","cv","createCanvasContext","drawFunc","draw","getImageInfo","src","width","height","created"],"mappings":"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","file":"pages/ar/ar.js","sourcesContent":["import { render, staticRenderFns } from \"./ar.vue?vue&type=template&id=115e212c&\"\nimport script from \"./ar.vue?vue&type=script&lang=js&\"\nexport * from \"./ar.vue?vue&type=script&lang=js&\"\nimport style0 from \"./ar.vue?vue&type=style&index=0&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\n/* hot reload */\nif (module.hot) {\n  var api = require(\"/Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/vue-hot-reload-api/dist/index.js\")\n  api.install(require('vue'))\n  if (api.compatible) {\n    module.hot.accept()\n    if (!module.hot.data) {\n      api.createRecord('115e212c', component.options)\n    } else {\n      api.reload('115e212c', component.options)\n    }\n    module.hot.accept(\"./ar.vue?vue&type=template&id=115e212c&\", function () {\n      api.rerender('115e212c', {\n        render: render,\n        staticRenderFns: staticRenderFns\n      })\n    })\n  }\n}\ncomponent.options.__file = \"Users/liuyangongshouhu/Desktop/liuyangong-uni-app-garbage/liuyangong-uni-app-garbagege/pages/ar/ar.vue\"\nexport default component.exports","export * from \"-!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--17-0!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/template.js!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/vue-loader/lib/index.js??vue-loader-options!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./ar.vue?vue&type=template&id=115e212c&\"","var render = function() {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n}\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns }","import mod from \"-!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--12-1!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/vue-loader/lib/index.js??vue-loader-options!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./ar.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--12-1!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/vue-loader/lib/index.js??vue-loader-options!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./ar.vue?vue&type=script&lang=js&\"","//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\nimport { queryByImgUrl } from '../../utils/urls.js'\nexport default {\n  data () {\n    return {\n      photoWidth: 0,\n      photoHeight: 0,\n      showCamera: true, // 照相机显示\n      showCanvas: false // 图片显示\n    }\n  },\n\n  components: {\n\n  },\n  onShow () {\n    this.showCamera = true\n    this.showCanvas = false\n  },\n\n  methods: {\n    // 截取照片\n    takeAndPredict () {\n      const ctx = uni.createCameraContext()\n      ctx.takePhoto({\n        quality: 'high',\n        success: (res) => {\n          this.showCamera = false\n          this.showCanvas = true\n          this.drawImage(res.tempImagePath)\n          uni.showLoading({\n            title: '上传识别中'\n          })\n          uni.uploadFile({\n            url: queryByImgUrl, // 仅为示例，非真实的接口地址\n            filePath: res.tempImagePath,\n            name: 'file',\n            header: {\n              'content-type': 'multipart/form-data'// 记得设置\n            },\n            formData: {\n              'user': 'test'\n            },\n            success (res) {\n              uni.hideLoading()\n              const data = res.data\n              console.log('data', data)\n              if (data) {\n                uni.setStorageSync('garlist', data) // 因为返回来的可能是多数据的，所以保存起来，不过不作为历史查询\n                uni.navigateTo({\n                  url: `/pages/detail/detail`\n                })\n              }\n            }\n          })\n        }\n      })\n    },\n    drawImage (imagePath) {\n      const cv = uni.createCanvasContext('canvas', this)\n      const drawFunc = () => {\n        cv.drawImage(imagePath, 0, 0, this.photoWidth, this.photoWidth, 0, 0, 300, 300)\n        cv.draw()\n      }\n      if (this.photoWidth === 0) {\n        uni.getImageInfo({\n          src: imagePath,\n          success: (res) => {\n            this.photoWidth = res.width\n            this.photoHeight = res.height\n            drawFunc()\n          }\n        })\n      } else {\n        drawFunc()\n      }\n    }\n  },\n\n  created () {\n    // let app = getApp()\n  }\n}\n","import mod from \"-!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--6-oneOf-1-1!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/css-loader/index.js??ref--6-oneOf-1-2!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-3!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/vue-loader/lib/index.js??vue-loader-options!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./ar.vue?vue&type=style&index=0&lang=css&\"; export default mod; export * from \"-!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--6-oneOf-1-1!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/css-loader/index.js??ref--6-oneOf-1-2!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-3!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/vue-loader/lib/index.js??vue-loader-options!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./ar.vue?vue&type=style&index=0&lang=css&\"","// extracted by mini-css-extract-plugin"],"sourceRoot":""}